
<h3 class="text-primary">Form Builder
    <small> enter form name & add fields</small>
</h3>
<div class="well mg_section_well">
    <!--model name-->
    <div class="row">
        <div class="col-sm-4">
            <h5 class="text-muted">give your form a name:</h5>
            <input type="text" class="form-control" id="form-name" name="form-name" ng-model="form.name" autofocus>
        </div>

        <!--input type buttons-->
        <div class="col-sm-8">

            <h5 class="text-muted">add fields:</h5>
            <ul class="list-inline">

                <!--common-->
                <li class="" data-ng-repeat="type in inputTypes | filter: {common: true} | orderBy: 'display_priority'">
                    <button class="btn btn-primary"  data-ng-click="addNewField(type.input_type)" >{{type.display}}</button>
                </li>

                <!--non-common-->
                <li class="dropdown">

                    <button class="btn btn-info dropdown-toggle">More
                        <span class="glyphicon glyphicon-chevron-down"></span>
                    </button>

                    <ul class="dropdown-menu dropdown-menu_fieldTypes">
                        <!--<p><i>the input types below-->
                        <!--<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/Input#Browser_compatibility" target="_blank">are not implemented in all browsers</a>.</i></p>-->
                        <li class="fieldTypeButton" ng-repeat="type in inputTypes | filter: {common: false} | orderBy: 'display_priority' ">
                            <button class="btn btn-block btn-primary"  data-ng-click="addNewField(type.input_type)" >{{type.display}}</button>
                        </li>
                    </ul>

                </li>

            </ul>

        </div>

    </div>


    <div class="row">


        <div class="col-sm-offset-1 col-sm-10">

            <!--model-->
            <div data-collapse="form.name == ''">

               <div  class="well mg_model_well">
                    <h3 class="text-muted">{{form.name}}</h3>

                    <!--Accordian-->
                    <accordion>
                        <accordion-group ng-repeat="field in form.fields">

                            <accordion-heading>
                                <span class="">{{field.field_title}}</span>
                                <button class="btn btn-sm btn-primary pull-right">edit</button>
                                <div class="clearfix"></div>
                            </accordion-heading>

                            <div class="accordion-edit">

                                <form name="fieldForm" class="form-horizontal" role="form" novalidate>

                                    <!--Name-->
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="field_title">Name</label>
                                        <div class="col-sm-9">
                                            <input class="form-control" type="text" id="field_title" ng-model="field.field_title" value="{{field.field_title}}">
                                        </div>
                                    </div>

                                    <!--Type-->
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="field_type">Input Type</label>
                                        <div class="col-sm-9">
                                            <select class="form-control" id="field_type" data-ng-model="field.field_type" data-ng-options="type.input_type as type.display for type in inputTypes"></select>
                                        </div>
                                    </div>

                                    <!--Placeholder-->
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="field_value">Placeholder</label>
                                        <div class="col-sm-9">
                                            <input class="form-control" type="text" id="field_value" ng-model="field.field_value" value="{{field.field_value}}">
                                        </div>
                                    </div>

                                    <!--Required-->
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="field_required">Required</label>
                                        <div class="col-sm-9">
                                            <div class="checkbox">
                                                <label>
                                                    <input ng-model="field.field_required" type="checkbox" id="field_required" value="{{field.field_required}}" > Required
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                                    <!--Options-->
                                    <div class="form-group" data-ng-show="showFieldOptions(field.field_type)">

                                        <div class="col-sm-3">
                                            <button class="btn btn-primary btn-sm" type="button" data-ng-click="addOption(field)">
                                                <span class="glyphicon-plus"></span>
                                                Add Option
                                            </button>
                                        </div>

                                        <div class="col-sm-offset-1 col-sm-10 well-sm">
                                            <ul class="list-unstyled">
                                                <li data-ng-repeat="option in field.field_options">
                                                    <div class="input-group">
                                                        <input class="form-control" type="text" ng-model="option.option_title" value="{{option.option_title}}">
                                                                <span class="input-group-btn">
                                                                    <button class="btn btn-default" ng-click="deleteOption(field, option)">
                                                                        <span class="glyphicon glyphicon-remove"></span>
                                                                    </button>
                                                                </span>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>



                                    </div>

                                </form>

                                <div class="">
                                    <button class="btn btn-danger btn-sm pull-right" type="button" ng-click="deleteField(field.field_id)">Delete</button>
                                </div>

                            </div>

                        </accordion-group>
                    </accordion>

               </div>

               <div> <button class="btn btn-danger pull-right" type="button" ng-click="reset()">reset form</button></div>

            </div>

        </div>
    </div>



</div>